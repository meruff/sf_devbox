<template>
    <div if:true={showSpinner} class="slds-is-relative">
        <lightning-spinner style="position:fixed;" alternative-text="Loading" size="large"></lightning-spinner>
    </div>

    <template if:true={isModalOpen}>
        <section role="dialog" tabindex="-1" aria-labelledby="newTrailblazerHeading" aria-modal="true" aria-describedby="newTrailblazerModalContent" class="slds-modal slds-fade-in-open">
            <div class="slds-modal__container">
                <header class="slds-modal__header">
                    <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={hideModal}>
                        <lightning-icon icon-name="utility:close" size="medium">
                        </lightning-icon>
                        <span class="slds-assistive-text">Close</span>
                    </button>
                    <h2 id="newTrailblazerHeading" class="slds-text-heading_medium slds-hyphenate">Add a new Trailblazer</h2>
                </header>
                <div class="slds-modal__content slds-p-around_medium modal-body" id="newTrailblazerModalContent">
                    <div if:true={error}>
                        <c-alert-message type="error" message={error} textured></c-alert-message>
                    </div>
                    <lightning-input
                            label="Trailhead Handle"
                            variant="label-hidden"
                            placeholder="Trailhead handle"
                            value={userId}
                            onchange={updateUserId}
                            message-when-value-missing="Please enter a Trailhead User handle"
                            class="slds-p-vertical_small"
                            required>
                    </lightning-input>
                    <div class="slds-p-horizontal_xxx-small">
                        <b>Note:</b> To find User handle, first make sure your Trailhead profile is set to public,
                        then copy the handle from your profile URL after "/me/".
                    </div>
                </div>
                <footer class="slds-modal__footer">
                    <lightning-button label="Cancel" onclick={hideModal}></lightning-button>
                    <lightning-button label="Submit" variant="brand" onclick={saveTrailblazer} class="slds-m-left_xx-small"></lightning-button>
                </footer>
            </div>
        </section>
        <div class="slds-backdrop slds-backdrop_open"></div>
    </template>
</template>